(()=>{"use strict";var e={2264:(e,t,a)=>{var r=a(1789),l=a(296),n=a(7810),o=a(4316),s=a(212),i=a(7028),u=a(5056),d=a(7795),c=a(5448),f=a(6690),h=a(2782),b=a(2928),y=a(968),g=a(1861),x=a(1914),m=a(634),v=a(4922),w=d.default.create({container:{marginBottom:16},label:{fontWeight:"600",fontSize:16,marginBottom:4,color:"#1f2933"},valueContainer:{borderWidth:1,borderColor:"#cbd5e1",borderRadius:8,paddingVertical:12,paddingHorizontal:16,backgroundColor:"#fff"},value:{fontSize:16,color:"#1f2933"},inlinePicker:{marginTop:8}});const p=function(e){var t=e.label,a=e.date,r=e.minimumDate,o=e.maximumDate,s=e.onChange,i=e.testID,u=(0,n.useState)(!1),d=(0,l.default)(u,2),c=d[0],h=d[1],y=(0,m.default)(a,"PPP");return(0,v.jsxs)(b.default,{style:w.container,children:[(0,v.jsx)(f.default,{style:w.label,children:t}),(0,v.jsx)(g.default,{accessibilityRole:"button",accessibilityLabel:`${t} picker`,onPress:function(){return h(!0)},style:w.valueContainer,testID:i,children:(0,v.jsx)(f.default,{style:w.value,children:y})}),!!c&&(0,v.jsx)(x.default,{value:a,mode:"date",display:"default",onChange:function(e,t){t&&s(t)},minimumDate:r,maximumDate:o,style:void 0})]})};var j=function(e){return(0,m.default)(e,"yyyy-MM-dd")},D=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},k=function(e){var t=e.getDay();return 0===t||6===t},C=function(e,t,a,r){for(var l=new Date(e,t,1);l.getDay()!==a;)l=(0,o.default)(l,1);return(0,o.default)(l,7*(r-1))},S=function(e,t){var a=j(e);t.add(a),0===e.getDay()?t.add(j((0,o.default)(e,1))):6===e.getDay()&&t.add(j((0,o.default)(e,2)))},T=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).learnerInQuebec,a=void 0!==t&&t,r=new Set;S(new Date(e,0,1),r);var l=function(e){var t=e%19,a=Math.floor(e/100),r=e%100,l=Math.floor(a/4),n=a%4,o=Math.floor((a+8)/25),s=(19*t+a-l-Math.floor((a-o+1)/3)+15)%30,i=(32+2*n+2*Math.floor(r/4)-s-r%4)%7,u=Math.floor((t+11*s+22*i)/451),d=Math.floor((s+i-7*u+114)/31)-1;return new Date(e,d,(s+i-7*u+114)%31+1)}(e);S((0,o.default)(l,-2),r),S((0,o.default)(l,1),r),S(function(e,t,a){for(var r=new Date(e,t,a);1!==r.getDay();)r=(0,o.default)(r,-1);return r}(e,4,24),r),S(new Date(e,6,1),r),S(a?new Date(e,5,24):C(e,7,1,1),r),S(new Date(e,8,30),r),S(C(e,8,1,1),r),S(C(e,9,1,2),r),S(new Date(e,10,11),r),S(new Date(e,11,25),r),S(new Date(e,11,26),r);for(var n=27;n<=31;n+=1)S(new Date(e,11,n),r);return r},I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=D(e),l=D(t);if(r>l)return[];for(var n=new Map,s=function(e){return n.has(e)||n.set(e,T(e,a)),n.get(e)},i=[],u=r;u<=l;u=(0,o.default)(u,1)){var d=s(u.getFullYear()),c=j(u);k(u)||d.has(c)||i.push(new Date(u))}return i},R=new Date("2024-11-12T00:00:00"),B=function(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e)},M=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Date(e);I(e,r,a).length<t;)r=(0,o.default)(r,1);return r},O=[17.94,19,19.19,19.5,20,20.44,20.5,21,21.69,22,22.5,23,23.5,24],V=function(e){return e.toFixed(2)},P=function(e){var t=e.label,a=e.value;return(0,v.jsxs)(b.default,{style:z.summaryRow,children:[(0,v.jsx)(f.default,{style:z.summaryLabel,children:t}),(0,v.jsx)(f.default,{style:z.summaryValue,children:a})]})},z=d.default.create({safeArea:{flex:1,backgroundColor:"#f1f5f9"},container:{padding:24},title:{fontSize:28,fontWeight:"700",marginBottom:24,color:"#0f172a"},section:{backgroundColor:"#fff",borderRadius:12,padding:16,marginBottom:24,shadowColor:"#000",shadowOpacity:.05,shadowRadius:8,shadowOffset:{width:0,height:2},elevation:2},sectionTitle:{fontSize:18,fontWeight:"700",marginBottom:12,color:"#1e293b"},label:{fontSize:16,color:"#1f2933",marginBottom:8},input:{borderWidth:1,borderColor:"#cbd5e1",borderRadius:8,paddingVertical:12,paddingHorizontal:16,marginBottom:16,fontSize:16,backgroundColor:"#fff"},pickerContainer:{borderWidth:1,borderColor:"#cbd5e1",borderRadius:8,marginBottom:16,overflow:"hidden",backgroundColor:"#fff"},picker:{height:44},switchRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},summaryRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},summaryLabel:{fontSize:16,color:"#334155"},summaryValue:{fontSize:16,fontWeight:"600",color:"#0f172a"},breakdown:{marginTop:12,borderTopWidth:1,borderTopColor:"#e2e8f0",paddingTop:12},breakdownTitle:{fontSize:16,fontWeight:"600",marginBottom:8,color:"#1f2937"},breakdownRow:{marginBottom:8},breakdownLabel:{fontSize:15,fontWeight:"600",color:"#1f2937"},breakdownValues:{flexDirection:"row",flexWrap:"wrap",gap:12},breakdownValue:{fontSize:14,color:"#475569"}});const F=function(){var e,t,a=(0,n.useMemo)(function(){return new Date},[]),r=(0,n.useState)(a),o=(0,l.default)(r,2),d=o[0],g=o[1],x=(0,n.useState)(!1),m=(0,l.default)(x,2),w=m[0],j=m[1],k=(0,n.useState)(function(){return M(a,60,{learnerInQuebec:!1})}),C=(0,l.default)(k,2),S=C[0],T=C[1],F=(0,n.useState)(!0),H=(0,l.default)(F,2),W=H[0],A=H[1],$=(0,n.useState)(V(O[0])),Q=(0,l.default)($,2),Y=Q[0],L=Q[1],E=(0,n.useState)(V(O[0])),_=(0,l.default)(E,2),q=_[0],N=_[1],G=(0,n.useState)(!0),J=(0,l.default)(G,2),K=J[0],U=J[1],X=(0,n.useState)(R),Z=(0,l.default)(X,2),ee=Z[0],te=Z[1],ae=(0,n.useState)(V(null!=(e=O[1])?e:O[0])),re=(0,l.default)(ae,2),le=re[0],ne=re[1],oe=(0,n.useState)(V(null!=(t=O[1])?t:O[0])),se=(0,l.default)(oe,2),ie=se[0],ue=se[1],de=(0,n.useMemo)(function(){return O.map(V)},[]);(0,n.useEffect)(function(){d>S&&T(M(d,60,{learnerInQuebec:w}))},[d,S,w]);var ce="other"===Y?parseFloat(q)||0:parseFloat(Y),fe="other"===le?parseFloat(ie)||0:parseFloat(le),he=K?{effectiveDate:ee,hourlyRate:fe}:void 0,be=(0,n.useMemo)(function(){return function(e){var t=e.startDate,a=e.endDate,r=e.baseHourlyRate,l=e.rateChange,n=e.includeTax,o=e.taxRate,s=void 0===o?.13:o,i=e.learnerInQuebec,u=I(t,a,{learnerInQuebec:void 0!==i&&i});if(0===u.length)return{businessDays:0,billableHours:0,subtotal:0,tax:0,total:0,fiscalBreakdown:[]};var d=l?D(l.effectiveDate):void 0,c=new Map,f=0;u.forEach(function(e){var t=function(e){var t=e.getFullYear(),a=e.getMonth()>=3?t:t-1;return`${a}-${a+1}`}(e),a=7.5*(d&&e>=d?l.hourlyRate:r);f+=a,c.has(t)||c.set(t,{fiscalYear:t,businessDays:0,billableHours:0,subtotal:0});var n=c.get(t);n.businessDays+=1,n.billableHours+=7.5,n.subtotal+=a});var h=u.length,b=n?f*s:0;return{businessDays:h,billableHours:7.5*h,subtotal:f,tax:b,total:f+b,fiscalBreakdown:Array.from(c.values())}}({startDate:d,endDate:S,baseHourlyRate:ce,rateChange:he,includeTax:W,taxRate:.13,learnerInQuebec:w})},[d,S,ce,he,W,w]);return(0,v.jsxs)(s.default,{style:z.safeArea,children:[(0,v.jsx)(u.default,{barStyle:"dark-content"}),(0,v.jsxs)(i.default,{contentContainerStyle:z.container,children:[(0,v.jsx)(f.default,{style:z.title,children:"Contract Calculator"}),(0,v.jsxs)(b.default,{style:z.section,children:[(0,v.jsx)(f.default,{style:z.sectionTitle,children:"Contract Dates"}),(0,v.jsx)(p,{label:"Start Date",date:d,onChange:g,testID:"start-date-picker"}),(0,v.jsx)(p,{label:"End Date",date:S,minimumDate:d,onChange:T,testID:"end-date-picker"})]}),(0,v.jsxs)(b.default,{style:z.section,children:[(0,v.jsx)(f.default,{style:z.sectionTitle,children:"Rate Settings"}),(0,v.jsx)(f.default,{style:z.label,children:"Base Hourly Rate (CAD)"}),(0,v.jsx)(b.default,{style:z.pickerContainer,children:(0,v.jsxs)(y.Picker,{selectedValue:Y,onValueChange:function(e){L(e),"other"!==e&&N(e)},testID:"base-rate-picker",style:z.picker,children:[de.map(function(e){return(0,v.jsx)(y.Picker.Item,{label:`$${e}`,value:e},e)}),(0,v.jsx)(y.Picker.Item,{label:"Other",value:"other"})]})}),"other"===Y&&(0,v.jsx)(h.default,{style:z.input,keyboardType:"numeric",value:q,onChangeText:N,placeholder:"0.00",testID:"base-rate-other-input"}),(0,v.jsxs)(b.default,{style:z.switchRow,children:[(0,v.jsx)(f.default,{style:z.label,children:"Enable rate change"}),(0,v.jsx)(c.default,{value:K,onValueChange:U,testID:"rate-change-switch"})]}),K&&(0,v.jsxs)(b.default,{children:[(0,v.jsx)(p,{label:"Rate change effective date",date:ee,onChange:te,testID:"rate-change-date"}),(0,v.jsx)(f.default,{style:z.label,children:"Rate after change (CAD)"}),(0,v.jsx)(b.default,{style:z.pickerContainer,children:(0,v.jsxs)(y.Picker,{selectedValue:le,onValueChange:function(e){ne(e),"other"!==e&&ue(e)},testID:"rate-change-rate-picker",style:z.picker,children:[de.map(function(e){return(0,v.jsx)(y.Picker.Item,{label:`$${e}`,value:e},e)}),(0,v.jsx)(y.Picker.Item,{label:"Other",value:"other"})]})}),"other"===le&&(0,v.jsx)(h.default,{style:z.input,keyboardType:"numeric",value:ie,onChangeText:ue,placeholder:"0.00",testID:"rate-change-rate-input"})]})]}),(0,v.jsxs)(b.default,{style:z.section,children:[(0,v.jsx)(f.default,{style:z.sectionTitle,children:"Regional Settings"}),(0,v.jsxs)(b.default,{style:z.switchRow,children:[(0,v.jsx)(f.default,{style:z.label,children:"Learner is in Quebec"}),(0,v.jsx)(c.default,{value:w,onValueChange:j,testID:"quebec-switch"})]})]}),(0,v.jsxs)(b.default,{style:z.section,children:[(0,v.jsx)(f.default,{style:z.sectionTitle,children:"Taxes"}),(0,v.jsxs)(b.default,{style:z.switchRow,children:[(0,v.jsx)(f.default,{style:z.label,children:"Apply 13% tax"}),(0,v.jsx)(c.default,{value:W,onValueChange:A,testID:"tax-switch"})]})]}),(0,v.jsxs)(b.default,{style:z.section,children:[(0,v.jsx)(f.default,{style:z.sectionTitle,children:"Summary"}),(0,v.jsx)(P,{label:"Business days",value:be.businessDays.toString()}),(0,v.jsx)(P,{label:"Billable hours",value:`${be.billableHours.toFixed(2)} (7.5 hrs/day)`}),(0,v.jsx)(P,{label:"Contract value",value:B(be.subtotal)}),(0,v.jsx)(P,{label:W?"Tax (13%)":"Tax",value:B(be.tax)}),(0,v.jsx)(P,{label:"Total",value:B(be.total)}),be.fiscalBreakdown.length>0&&(0,v.jsxs)(b.default,{style:z.breakdown,children:[(0,v.jsx)(f.default,{style:z.breakdownTitle,children:"Fiscal Year Breakdown"}),be.fiscalBreakdown.map(function(e){return(0,v.jsxs)(b.default,{style:z.breakdownRow,children:[(0,v.jsx)(f.default,{style:z.breakdownLabel,children:e.fiscalYear}),(0,v.jsxs)(b.default,{style:z.breakdownValues,children:[(0,v.jsxs)(f.default,{style:z.breakdownValue,children:[e.businessDays," days"]}),(0,v.jsxs)(f.default,{style:z.breakdownValue,children:[e.billableHours.toFixed(1)," hrs"]}),(0,v.jsx)(f.default,{style:z.breakdownValue,children:B(e.subtotal)})]})]},e.fiscalYear)})]})]})]})]})};(0,r.default)(F)}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.m=e,(()=>{var e=[];a.O=(t,r,l,n)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,l,n]=e[d],s=!0,i=0;i<r.length;i++)(!1&n||o>=n)&&Object.keys(a.O).every(e=>a.O[e](r[i]))?r.splice(i--,1):(s=!1,n<o&&(o=n));if(s){e.splice(d--,1);var u=l();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,l,n]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var l,n,[o,s,i]=r,u=0;if(o.some(t=>0!==e[t])){for(l in s)a.o(s,l)&&(a.m[l]=s[l]);if(i)var d=i(a)}for(t&&t(r);u<o.length;u++)n=o[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[446],()=>a(4512));r=a.O(r)})();
//# sourceMappingURL=main.24856cbc.js.map