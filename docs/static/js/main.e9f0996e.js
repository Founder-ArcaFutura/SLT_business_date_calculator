(()=>{"use strict";var e={5203:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var r=a(296),n=a(7810),l=a(4316),o=a(212),i=a(7028),s=a(5056),u=a(7795),d=a(5448),f=a(6690),c=a(2782),h=a(2928),b=a(968),y=a(634),g=a(4922),x=u.default.create({container:{marginBottom:16},label:{fontWeight:"600",fontSize:16,marginBottom:4,color:"#1f2933"}}),v={borderWidth:1,borderStyle:"solid",borderColor:"#cbd5e1",borderRadius:8,padding:"12px 16px",backgroundColor:"#fff",fontSize:16,color:"#1f2933",width:"100%",boxSizing:"border-box"};const m=function(e){var t=e.label,a=e.date,l=e.minimumDate,o=e.maximumDate,i=e.onChange,s=e.testID,u=(0,n.useMemo)(function(){return(0,y.default)(a,"yyyy-MM-dd")},[a]),d=(0,n.useMemo)(function(){return l?(0,y.default)(l,"yyyy-MM-dd"):void 0},[l]),c=(0,n.useMemo)(function(){return o?(0,y.default)(o,"yyyy-MM-dd"):void 0},[o]);return(0,g.jsxs)(h.default,{style:x.container,children:[(0,g.jsx)(f.default,{style:x.label,children:t}),(0,g.jsx)("input",{type:"date",value:u,min:d,max:c,onChange:function(e){var t=e.target.value;if(t){var a=t.split("-").map(Number),n=(0,r.default)(a,3),l=n[0],o=n[1],s=n[2];if(Number.isFinite(l)&&Number.isFinite(o)&&Number.isFinite(s)){var u=new Date(l,o-1,s);i(u)}}},"data-testid":s,style:v})]})};var w=function(e){return(0,y.default)(e,"yyyy-MM-dd")},p=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},j=function(e){var t=e.getDay();return 0===t||6===t},D=function(e,t,a,r){for(var n=new Date(e,t,1);n.getDay()!==a;)n=(0,l.default)(n,1);return(0,l.default)(n,7*(r-1))},k=function(e,t){var a=w(e);t.add(a),0===e.getDay()?t.add(w((0,l.default)(e,1))):6===e.getDay()&&t.add(w((0,l.default)(e,2)))},C=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).learnerInQuebec,a=void 0!==t&&t,r=new Set;k(new Date(e,0,1),r);var n=function(e){var t=e%19,a=Math.floor(e/100),r=e%100,n=Math.floor(a/4),l=a%4,o=Math.floor((a+8)/25),i=(19*t+a-n-Math.floor((a-o+1)/3)+15)%30,s=(32+2*l+2*Math.floor(r/4)-i-r%4)%7,u=Math.floor((t+11*i+22*s)/451),d=Math.floor((i+s-7*u+114)/31)-1;return new Date(e,d,(i+s-7*u+114)%31+1)}(e);k((0,l.default)(n,-2),r),k((0,l.default)(n,1),r),k(function(e,t,a){for(var r=new Date(e,t,a);1!==r.getDay();)r=(0,l.default)(r,-1);return r}(e,4,24),r),k(new Date(e,6,1),r),k(a?new Date(e,5,24):D(e,7,1,1),r),k(new Date(e,8,30),r),k(D(e,8,1,1),r),k(D(e,9,1,2),r),k(new Date(e,10,11),r),k(new Date(e,11,25),r),k(new Date(e,11,26),r);for(var o=27;o<=31;o+=1)k(new Date(e,11,o),r);return r},S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=p(e),n=p(t);if(r>n)return[];for(var o=new Map,i=function(e){return o.has(e)||o.set(e,C(e,a)),o.get(e)},s=[],u=r;u<=n;u=(0,l.default)(u,1)){var d=i(u.getFullYear()),f=w(u);j(u)||d.has(f)||s.push(new Date(u))}return s},M=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),a=new Date(e.getFullYear(),10,12);return t<=a?a:new Date(e.getFullYear()+1,10,12)},T=function(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(e)},I=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Date(e);S(e,r,a).length<t;)r=(0,l.default)(r,1);return r},R=[17.94,19,19.19,19.5,20,20.44,20.5,21,21.69,22,22.5,23,23.5,24],B=function(e){return e.toFixed(2)},F=function(e){var t=e.label,a=e.value;return(0,g.jsxs)(h.default,{style:O.summaryRow,children:[(0,g.jsx)(f.default,{style:O.summaryLabel,children:t}),(0,g.jsx)(f.default,{style:O.summaryValue,children:a})]})},O=u.default.create({safeArea:{flex:1,backgroundColor:"#f1f5f9"},container:{padding:24},title:{fontSize:28,fontWeight:"700",marginBottom:24,color:"#0f172a"},section:{backgroundColor:"#fff",borderRadius:12,padding:16,marginBottom:24,shadowColor:"#000",shadowOpacity:.05,shadowRadius:8,shadowOffset:{width:0,height:2},elevation:2},sectionTitle:{fontSize:18,fontWeight:"700",marginBottom:12,color:"#1e293b"},label:{fontSize:16,color:"#1f2933",marginBottom:8},input:{borderWidth:1,borderColor:"#cbd5e1",borderRadius:8,paddingVertical:12,paddingHorizontal:16,marginBottom:16,fontSize:16,backgroundColor:"#fff"},pickerContainer:{borderWidth:1,borderColor:"#cbd5e1",borderRadius:8,marginBottom:16,overflow:"hidden",backgroundColor:"#fff"},picker:{height:44},switchRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},summaryRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},summaryLabel:{fontSize:16,color:"#334155"},summaryValue:{fontSize:16,fontWeight:"600",color:"#0f172a"},breakdown:{marginTop:12,borderTopWidth:1,borderTopColor:"#e2e8f0",paddingTop:12},breakdownTitle:{fontSize:16,fontWeight:"600",marginBottom:8,color:"#1f2937"},breakdownRow:{marginBottom:8},breakdownLabel:{fontSize:15,fontWeight:"600",color:"#1f2937"},breakdownValues:{flexDirection:"row",flexWrap:"wrap",gap:12},breakdownValue:{fontSize:14,color:"#475569"}});const V=function(){var e,t,a=(0,n.useMemo)(function(){return new Date},[]),l=(0,n.useState)(a),u=(0,r.default)(l,2),y=u[0],x=u[1],v=(0,n.useState)(!1),w=(0,r.default)(v,2),j=w[0],D=w[1],k=(0,n.useState)(function(){return I(a,60,{learnerInQuebec:!1})}),C=(0,r.default)(k,2),V=C[0],z=C[1],W=(0,n.useState)(!0),Y=(0,r.default)(W,2),H=Y[0],P=Y[1],A=(0,n.useState)(B(R[0])),Q=(0,r.default)(A,2),$=Q[0],E=Q[1],L=(0,n.useState)(B(R[0])),N=(0,r.default)(L,2),_=N[0],q=N[1],G=(0,n.useState)(!0),J=(0,r.default)(G,2),K=J[0],U=J[1],X=(0,n.useState)(function(){return M(a)}),Z=(0,r.default)(X,2),ee=Z[0],te=Z[1],ae=(0,n.useState)(B(null!=(e=R[1])?e:R[0])),re=(0,r.default)(ae,2),ne=re[0],le=re[1],oe=(0,n.useState)(B(null!=(t=R[1])?t:R[0])),ie=(0,r.default)(oe,2),se=ie[0],ue=ie[1],de=(0,n.useMemo)(function(){return R.map(B)},[]);(0,n.useEffect)(function(){y>V&&z(I(y,60,{learnerInQuebec:j}));var e=new Date(y.getFullYear(),y.getMonth(),y.getDate());ee<e&&te(M(y))},[y,V,j,ee]);var fe="other"===$?parseFloat(_)||0:parseFloat($),ce="other"===ne?parseFloat(se)||0:parseFloat(ne),he=K?{effectiveDate:ee,hourlyRate:ce}:void 0,be=(0,n.useMemo)(function(){return function(e){var t=e.startDate,a=e.endDate,r=e.baseHourlyRate,n=e.rateChange,l=e.includeTax,o=e.taxRate,i=void 0===o?.13:o,s=e.learnerInQuebec,u=S(t,a,{learnerInQuebec:void 0!==s&&s});if(0===u.length)return{businessDays:0,billableHours:0,subtotal:0,tax:0,total:0,fiscalBreakdown:[]};var d=n?p(n.effectiveDate):void 0,f=new Map,c=0;u.forEach(function(e){var t=function(e){var t=e.getFullYear(),a=e.getMonth()>=3?t:t-1;return`${a}-${a+1}`}(e),a=7.5*(d&&e>=d?n.hourlyRate:r);c+=a,f.has(t)||f.set(t,{fiscalYear:t,businessDays:0,billableHours:0,subtotal:0});var l=f.get(t);l.businessDays+=1,l.billableHours+=7.5,l.subtotal+=a});var h=u.length,b=l?c*i:0;return{businessDays:h,billableHours:7.5*h,subtotal:c,tax:b,total:c+b,fiscalBreakdown:Array.from(f.values())}}({startDate:y,endDate:V,baseHourlyRate:fe,rateChange:he,includeTax:H,taxRate:.13,learnerInQuebec:j})},[y,V,fe,he,H,j]);return(0,g.jsxs)(o.default,{style:O.safeArea,children:[(0,g.jsx)(s.default,{barStyle:"dark-content"}),(0,g.jsxs)(i.default,{contentContainerStyle:O.container,children:[(0,g.jsx)(f.default,{style:O.title,children:"Contract Calculator"}),(0,g.jsxs)(h.default,{style:O.section,children:[(0,g.jsx)(f.default,{style:O.sectionTitle,children:"Contract Dates"}),(0,g.jsx)(m,{label:"Start Date",date:y,onChange:x,testID:"start-date-picker"}),(0,g.jsx)(m,{label:"End Date",date:V,minimumDate:y,onChange:z,testID:"end-date-picker"})]}),(0,g.jsxs)(h.default,{style:O.section,children:[(0,g.jsx)(f.default,{style:O.sectionTitle,children:"Rate Settings"}),(0,g.jsx)(f.default,{style:O.label,children:"Base Hourly Rate (CAD)"}),(0,g.jsx)(h.default,{style:O.pickerContainer,children:(0,g.jsxs)(b.Picker,{selectedValue:$,onValueChange:function(e){E(e),"other"!==e&&q(e)},testID:"base-rate-picker",style:O.picker,children:[de.map(function(e){return(0,g.jsx)(b.Picker.Item,{label:`$${e}`,value:e},e)}),(0,g.jsx)(b.Picker.Item,{label:"Other",value:"other"})]})}),"other"===$&&(0,g.jsx)(c.default,{style:O.input,keyboardType:"numeric",value:_,onChangeText:q,placeholder:"0.00",testID:"base-rate-other-input"}),(0,g.jsxs)(h.default,{style:O.switchRow,children:[(0,g.jsx)(f.default,{style:O.label,children:"Enable rate change"}),(0,g.jsx)(d.default,{value:K,onValueChange:U,testID:"rate-change-switch"})]}),K&&(0,g.jsxs)(h.default,{children:[(0,g.jsx)(m,{label:"Rate change effective date",date:ee,onChange:te,testID:"rate-change-date"}),(0,g.jsx)(f.default,{style:O.label,children:"Rate after change (CAD)"}),(0,g.jsx)(h.default,{style:O.pickerContainer,children:(0,g.jsxs)(b.Picker,{selectedValue:ne,onValueChange:function(e){le(e),"other"!==e&&ue(e)},testID:"rate-change-rate-picker",style:O.picker,children:[de.map(function(e){return(0,g.jsx)(b.Picker.Item,{label:`$${e}`,value:e},e)}),(0,g.jsx)(b.Picker.Item,{label:"Other",value:"other"})]})}),"other"===ne&&(0,g.jsx)(c.default,{style:O.input,keyboardType:"numeric",value:se,onChangeText:ue,placeholder:"0.00",testID:"rate-change-rate-input"})]})]}),(0,g.jsxs)(h.default,{style:O.section,children:[(0,g.jsx)(f.default,{style:O.sectionTitle,children:"Regional Settings"}),(0,g.jsxs)(h.default,{style:O.switchRow,children:[(0,g.jsx)(f.default,{style:O.label,children:"Learner is in Quebec"}),(0,g.jsx)(d.default,{value:j,onValueChange:D,testID:"quebec-switch"})]})]}),(0,g.jsxs)(h.default,{style:O.section,children:[(0,g.jsx)(f.default,{style:O.sectionTitle,children:"Taxes"}),(0,g.jsxs)(h.default,{style:O.switchRow,children:[(0,g.jsx)(f.default,{style:O.label,children:"Apply 13% tax"}),(0,g.jsx)(d.default,{value:H,onValueChange:P,testID:"tax-switch"})]})]}),(0,g.jsxs)(h.default,{style:O.section,children:[(0,g.jsx)(f.default,{style:O.sectionTitle,children:"Summary"}),(0,g.jsx)(F,{label:"Business days",value:be.businessDays.toString()}),(0,g.jsx)(F,{label:"Billable hours",value:`${be.billableHours.toFixed(2)} (7.5 hrs/day)`}),(0,g.jsx)(F,{label:"Contract value",value:T(be.subtotal)}),(0,g.jsx)(F,{label:H?"Tax (13%)":"Tax",value:T(be.tax)}),(0,g.jsx)(F,{label:"Total",value:T(be.total)}),be.fiscalBreakdown.length>0&&(0,g.jsxs)(h.default,{style:O.breakdown,children:[(0,g.jsx)(f.default,{style:O.breakdownTitle,children:"Fiscal Year Breakdown"}),be.fiscalBreakdown.map(function(e){return(0,g.jsxs)(h.default,{style:O.breakdownRow,children:[(0,g.jsx)(f.default,{style:O.breakdownLabel,children:e.fiscalYear}),(0,g.jsxs)(h.default,{style:O.breakdownValues,children:[(0,g.jsxs)(f.default,{style:O.breakdownValue,children:[e.businessDays," days"]}),(0,g.jsxs)(f.default,{style:O.breakdownValue,children:[e.billableHours.toFixed(1)," hrs"]}),(0,g.jsx)(f.default,{style:O.breakdownValue,children:T(e.subtotal)})]})]},e.fiscalYear)})]})]})]})]})}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(t,r,n,l)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,n,l]=e[d],i=!0,s=0;s<r.length;s++)(!1&l||o>=l)&&Object.keys(a.O).every(e=>a.O[e](r[s]))?r.splice(s--,1):(i=!1,l<o&&(o=l));if(i){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[r,n,l]}})(),a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,[o,i,s]=r,u=0;if(o.some(t=>0!==e[t])){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var d=s(a)}for(t&&t(r);u<o.length;u++)l=o[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[365],()=>a(3524));r=a.O(r)})();
//# sourceMappingURL=main.e9f0996e.js.map